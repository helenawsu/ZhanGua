{
  "version": 3,
  "file": "bundle.css",
  "sources": [
    "App.svelte",
    "OpenAIComponent.svelte"
  ],
  "sourcesContent": [
    "<script>\n  import {hexagramNames} from \"./hexagramInfo.js\";\n  import {randomKaomoji} from \"./randomKaomoji.js\"\n\n  function getRandomNumber() {\n  return Math.floor(Math.random() * (67 - 4 + 1)) + 4; // min 4 max 67\n  }\n  let randum = 0;\n  let hemoji = \"\";\n  let hexName = \"\";\n  function randomizeHexagram() {\n    randum = getRandomNumber();\n    hemoji = String.fromCharCode(randum + 19900);\n    hexName = hexagramNames[randum - 4];\n    }\n  \n  /**\n   * @type {string}\n   */\n  let question = \"\";\n  import OpenAIComponent from './OpenAIComponent.svelte';\n\n</script>\n\n<main>\n  \n\n  <h1>占卦</h1>\n  <p>input your question here   <span>{randomKaomoji()}</span>  </p>\n  <OpenAIComponent />\n  <h1>{hemoji}</h1>\n  <h2>{hexName}</h2>\n</main>\n\n<style>\n  main {\n    text-align: center;\n    padding: 1em;\n    max-width: 240px;\n    margin: 0 auto;\n  }\n\n  h1 {\n    color: #ff3e00;\n    text-transform: uppercase;\n    font-size: 4em;\n    font-weight: 100;\n  }\n\n  @media (min-width: 640px) {\n    main {\n      max-width: none;\n    }\n  }\n</style>\n",
    "<!-- OpenAIComponent.svelte -->\n<script>\n  import {randomKaomoji} from \"./randomKaomoji.js\"\n  import {hexagramNames} from \"./hexagramInfo.js\";\n    const apiKey = process.env.API_KEY;\n    let prompt = '';\n    let response = '';\n    let reply = '';\n    let randum = 0;\n    let hemoji = \"\";\n    let hexName = \"\";\n    function getRandomNumber() {\n      return Math.floor(Math.random() * (67 - 4 + 1)) + 4; // min 4 max 67\n    }\n    async function callOpenAI() {\n      \n    randum = getRandomNumber();\n    hemoji = String.fromCharCode(randum + 19900);\n    hexName = hexagramNames[randum - 4];\n      try {\n        console.log(\"starting api call\");\n        const apiUrl = 'https://api.openai.com/v1/chat/completions';\n        const startMessage = 'You will act like a expert Yijing prophet. You will give prediction or advice of an event based on Yijing knowledge. Use the hexagram' +hexName+ 'and explain how it is related to the event. If the event can not be advised by Yijing or you cannot understand the input, tell them to take this seriously.';\n        const requestBody = {\n          model: 'gpt-3.5-turbo',\n          messages: [\n          { role: 'system', content: startMessage },\n          { role: 'user', content: prompt },\n        ],\n          max_tokens: 1500, // Adjust as needed\n        };\n  \n        let response = await fetch(apiUrl, {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json',\n            'Authorization': `Bearer ${apiKey}`,\n          },\n          body: JSON.stringify(requestBody),\n        });        \n        console.log(\"ending api call\");\n        const data = await response.json();\n        // Handle the response as needed\n        console.log(data);\n        response = data.choices[0].message.content;\n        console.log(response);\n        reply = JSON.stringify(response).replace(/\\n/g, '<br />');\n        console.log(reply);\n      } catch (error) {\n        console.error('Error', error);\n      }\n    }\n  </script>\n  \n  <main>\n    <textarea bind:value={prompt} placeholder=\"\"></textarea>\n    <button on:click={callOpenAI}>submit</button>\n    {#if {response}}\n      <div>\n        <h1>{hemoji}</h1>\n        <h2>{hexName}</h2>\n        <p>{reply}</p>\n      </div>\n    {/if}\n  </main>\n  \n  <style>\n    main {\n      text-align: center;\n      margin: 2rem;\n    }\n  \n    textarea {\n      width: 100%;\n      margin-bottom: 1rem;\n    }\n    h1 {\n    color: #ff3e00;\n    text-transform: uppercase;\n    font-size: 4em;\n    font-weight: 100;\n  }\n  </style>\n  "
  ],
  "names": [],
  "mappings": "AAmCE,IAAI,eAAC,CAAC,AACJ,UAAU,CAAE,MAAM,CAClB,OAAO,CAAE,GAAG,CACZ,SAAS,CAAE,KAAK,CAChB,MAAM,CAAE,CAAC,CAAC,IAAI,AAChB,CAAC,AAED,EAAE,eAAC,CAAC,AACF,KAAK,CAAE,OAAO,CACd,cAAc,CAAE,SAAS,CACzB,SAAS,CAAE,GAAG,CACd,WAAW,CAAE,GAAG,AAClB,CAAC,AAED,MAAM,AAAC,YAAY,KAAK,CAAC,AAAC,CAAC,AACzB,IAAI,eAAC,CAAC,AACJ,SAAS,CAAE,IAAI,AACjB,CAAC,AACH,CAAC;ACcC,IAAI,eAAC,CAAC,AACJ,UAAU,CAAE,MAAM,CAClB,MAAM,CAAE,IAAI,AACd,CAAC,AAED,QAAQ,eAAC,CAAC,AACR,KAAK,CAAE,IAAI,CACX,aAAa,CAAE,IAAI,AACrB,CAAC,AACD,EAAE,eAAC,CAAC,AACJ,KAAK,CAAE,OAAO,CACd,cAAc,CAAE,SAAS,CACzB,SAAS,CAAE,GAAG,CACd,WAAW,CAAE,GAAG,AAClB,CAAC"
}