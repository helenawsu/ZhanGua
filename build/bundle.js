var app=function(){"use strict";function e(){}function t(e){return e()}function n(){return Object.create(null)}function o(e){e.forEach(t)}function r(e){return"function"==typeof e}function i(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function a(e,t){e.appendChild(t)}function s(e,t,n){e.insertBefore(t,n||null)}function u(e){e.parentNode.removeChild(e)}function h(e){return document.createElement(e)}function c(e){return document.createTextNode(e)}function l(){return c(" ")}function d(e,t,n,o){return e.addEventListener(t,n,o),()=>e.removeEventListener(t,n,o)}function f(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function p(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function g(e,t){e.value=null==t?"":t}let T;function m(e){T=e}const $=[],y=[],b=[],v=[],x=Promise.resolve();let w=!1;function _(e){b.push(e)}const S=new Set;let k=0;function C(){const e=T;do{for(;k<$.length;){const e=$[k];k++,m(e),G(e.$$)}for(m(null),$.length=0,k=0;y.length;)y.pop()();for(let e=0;e<b.length;e+=1){const t=b[e];S.has(t)||(S.add(t),t())}b.length=0}while($.length);for(;v.length;)v.pop()();w=!1,S.clear(),m(e)}function G(e){if(null!==e.fragment){e.update(),o(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(_)}}const D=new Set;function A(e,t){e&&e.i&&(D.delete(e),e.i(t))}function J(e,n,i,a){const{fragment:s,on_mount:u,on_destroy:h,after_update:c}=e.$$;s&&s.m(n,i),a||_((()=>{const n=u.map(t).filter(r);h?h.push(...n):o(n),e.$$.on_mount=[]})),c.forEach(_)}function M(e,t){const n=e.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function P(e,t){-1===e.$$.dirty[0]&&($.push(e),w||(w=!0,x.then(C)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function E(t,r,i,a,s,h,c,l=[-1]){const d=T;m(t);const f=t.$$={fragment:null,ctx:null,props:h,update:e,not_equal:s,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(r.context||(d?d.$$.context:[])),callbacks:n(),dirty:l,skip_bound:!1,root:r.target||d.$$.root};c&&c(f.root);let p=!1;if(f.ctx=i?i(t,r.props||{},((e,n,...o)=>{const r=o.length?o[0]:n;return f.ctx&&s(f.ctx[e],f.ctx[e]=r)&&(!f.skip_bound&&f.bound[e]&&f.bound[e](r),p&&P(t,e)),n})):[],f.update(),p=!0,o(f.before_update),f.fragment=!!a&&a(f.ctx),r.target){if(r.hydrate){const e=function(e){return Array.from(e.childNodes)}(r.target);f.fragment&&f.fragment.l(e),e.forEach(u)}else f.fragment&&f.fragment.c();r.intro&&A(t.$$.fragment),J(t,r.target,r.anchor,r.customElement),C()}m(d)}class Y{$destroy(){M(this,1),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const L=["乾 (Qián) - The Creative","坤 (Kūn) - The Receptive","屯 (Zhūn) - The Arousing","蒙 (Méng) - The Gentle","需 (Xū) - The Open","讼 (Sòng) - The Dispute","师 (Shī) - The Leading","比 (Bǐ) - The Holding Together","小畜 (Xiǎo Chù) - The Taming Power of the Small","履 (Lǚ) - The Treading","泰 (Tài) - The Peace","否 (Pǐ) - The Standstill","同人 (Tóng Rén) - The Fellowship","大有 (Dà Yǒu) - The Great Possessing","谦 (Qiān) - The Modesty","豫 (Yù) - The Enthusiasm","随 (Suí) - The Following","蛊 (Gǔ) - The Work on the Decayed","临 (Lín) - The Approach","观 (Guān) - The Contemplation","噬嗑 (Shì Kè) - The Biting Through","贲 (Bì) - The Grace","剥 (Bō) - The Splitting Apart","复 (Fù) - The Return","无妄 (Wú Wàng) - The Innocence","大畜 (Dà Chù) - The Taming Power of the Great","颐 (Yí) - The Nourishment","大过 (Dà Guò) - The Surpassing","坎 (Kǎn) - The Abysmal","离 (Lí) - The Clinging, Fire","咸 (Xián) - The Influence","恒 (Héng) - The Duration","遁 (Dùn) - The Retreat","大壮 (Dà Zhuàng) - The Power of the Great","晋 (Jìn) - The Progress","明夷 (Míng Yí) - The Darkening of the Light","家人 (Jiā Rén) - The Family","睽 (Kuí) - The Opposition","蹇 (Jiǎn) - The Obstruction","解 (Xiè) - The Deliverance","损 (Sǔn) - The Decrease","益 (Yì) - The Increase","夬 (Guài) - The Breakthrough","姤 (Gòu) - The Coming to Meet","萃 (Cuì) - The Gathering Together","升 (Shēng) - The Ascending","困 (Kùn) - The Keeping Still, Mountain","井 (Jǐng) - The Well","革 (Gé) - The Cauldron","鼎 (Dǐng) - The Taming Power of the Great","震 (Zhèn) - The Arousing, Thunder","艮 (Gèn) - The Keeping Still, Mountain","渐 (Jiàn) - The Gentle, Wind","归妹 (Guī Mèi) - The Joyous, Lake","丰 (Fēng) - The Abundance","旅 (Lǚ) - The Wanderer","巽 (Xùn) - The Gentle, Wind","兑 (Duì) - The Joyous, Lake","涣 (Huàn) - The Dispersion","节 (Jié) - The Duration","中孚 (Zhōng Fú) - The Inner Truth","小过 (Xiǎo Guò) - The Preponderance of the Small","既济 (Jì Jì) - The After Completion","未济 (Wèi Jì) - The Before Completion"],O=["٩(◕‿◕｡)۶","(｡♥‿♥｡)","(＾▽＾)","٩(｡•́‿•̀｡)۶","(•‿•)","(°◡°♡)","ʕ•ᴥ•ʔ","(๑˃̵ᴗ˂̵)و","(ᵔᴥᵔ)","(o˘◡˘o)","(✿◠‿◠)","(^‿^)","(´• ω •`)","( ͡ᵔ ͜ʖ ͡ᵔ )","(◕‿◕)","(*^‿^*)","｡◕‿◕｡","ヾ(＾∇＾)","٩(◕‿◕｡)۶","(っ◔◡◔)っ","( •_•)>⌐■-■","(⌐■_■)","(▰˘◡˘▰)","ʕʘ̅͜ʘ̅ʔ","ヾ(⌐■_■)ノ♪","(＾ｖ＾)"];function j(t){let n,r,i,T,m,$,y,b={response:B}&&function(e){let t,n,o,r,i,d,g,T,m;return{c(){t=h("div"),n=h("h1"),o=c(e[2]),r=l(),i=h("h2"),d=c(e[3]),g=l(),T=h("p"),m=c(e[1]),f(n,"class","svelte-1pxd76w")},m(e,u){s(e,t,u),a(t,n),a(n,o),a(t,r),a(t,i),a(i,d),a(t,g),a(t,T),a(T,m)},p(e,t){4&t&&p(o,e[2]),8&t&&p(d,e[3]),2&t&&p(m,e[1])},d(e){e&&u(t)}}}(t);return{c(){n=h("main"),r=h("textarea"),i=l(),T=h("button"),T.textContent="submit",m=l(),b&&b.c(),f(r,"placeholder",""),f(r,"class","svelte-1pxd76w"),f(n,"class","svelte-1pxd76w")},m(e,o){s(e,n,o),a(n,r),g(r,t[0]),a(n,i),a(n,T),a(n,m),b&&b.m(n,null),$||(y=[d(r,"input",t[5]),d(T,"click",t[4])],$=!0)},p(e,[t]){1&t&&g(r,e[0]),b.p(e,t)},i:e,o:e,d(e){e&&u(n),b&&b.d(),$=!1,o(y)}}}let B="";function K(e,t,n){const o=process.env.API_KEY;let r="",i="",a=0,s="",u="";return[r,i,s,u,async function(){a=Math.floor(64*Math.random())+4,n(2,s=String.fromCharCode(a+19900)),n(3,u=L[a-4]);try{const e="https://api.openai.com/v1/chat/completions",t={model:"gpt-3.5-turbo",messages:[{role:"system",content:"You will act like a expert Yijing prophet. You will give prediction or advice of an event based on Yijing knowledge. Use the hexagram"+u+"and explain how it is related to the event. If the event can not be advised by Yijing or you cannot understand the input, tell them to take this seriously."},{role:"user",content:r}],max_tokens:1500};let a=await fetch(e,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${o}`},body:JSON.stringify(t)});const s=await a.json();console.log(s),a=s.choices[0].message.content,console.log(a),n(1,i=JSON.stringify(a).replace(/\n/g,"<br />")),console.log(i)}catch(e){console.error("Error",e)}},function(){r=this.value,n(0,r)}]}class W extends Y{constructor(e){super(),E(this,e,K,j,i,{})}}function F(e){let t,n,o,r,i,d,g,T,m,$,y,b,v,x,w;return T=new W({}),{c(){var a;t=h("main"),n=h("h1"),n.textContent="占卦",o=l(),r=h("p"),i=c("input your question here   "),d=h("span"),d.textContent=`${O[Math.floor(Math.random()*O.length)]}`,g=l(),(a=T.$$.fragment)&&a.c(),m=l(),$=h("h1"),y=c(e[0]),b=l(),v=h("h2"),x=c(e[1]),f(n,"class","svelte-1e9puaw"),f($,"class","svelte-1e9puaw"),f(t,"class","svelte-1e9puaw")},m(e,u){s(e,t,u),a(t,n),a(t,o),a(t,r),a(r,i),a(r,d),a(t,g),J(T,t,null),a(t,m),a(t,$),a($,y),a(t,b),a(t,v),a(v,x),w=!0},p(e,[t]){(!w||1&t)&&p(y,e[0]),(!w||2&t)&&p(x,e[1])},i(e){w||(A(T.$$.fragment,e),w=!0)},o(e){!function(e,t,n,o){if(e&&e.o){if(D.has(e))return;D.add(e),(void 0).c.push((()=>{D.delete(e),o&&(n&&e.d(1),o())})),e.o(t)}else o&&o()}(T.$$.fragment,e),w=!1},d(e){e&&u(t),M(T)}}}function I(e,t,n){return["",""]}const N=new class extends Y{constructor(e){super(),E(this,e,I,F,i,{})}}({target:document.body,props:{name:"world"}});return"undefined"!=typeof module&&module.hot&&("undefined"!=typeof module&&module.hot.dispose((()=>{N.$destroy()})),"undefined"!=typeof module&&module.hot.accept()),N}();
//# sourceMappingURL=bundle.js.map
